# 可选类型
本语言中所有的类型默认都不可以为空值，这可以极大限度地避免空值问题。
如果定义了一个类型却并未赋值，那么它将不能被使用。

例如：
```
a: I32
b := a  # 错误，并未给 a 赋值
```

## 声明与使用

如果某些情况必须要使用带空值地类型，可以使用可空类型。
只需要在任何类型后加入`!`，即为可空类型。

例如：
```
a: I32!
b := a  # b 赋值为空的I32
```

一旦出现了可选类型，我们就需要严格处理空值，避免程序错误。

例如：
```
# 判断不为空再使用
? a ~= nil {
    a.ToStr()
}
```

这样做很繁琐，特别是我们需要执行连续多个函数的时候。  
我们可以在表达式后面加上 `?` 来使用它们，这样只有当他们不为空时才会执行。

例如：
```
arr?.ToStr()
```

## 转换可选类型
如果需要将某个变量转换为可选类型，可以使用`id?`语法。

例如：
```
b := a?
```
## 获取值
如果需要获取可选类型的值，可以使用`id!`语法。

例如：
```
b := a!
```
## 合并操作
如果希望可选类型的值为空时选用另一个默认值，可以使用`id ?! value`语法。

例如：
```
b := a ?! 128
```

## [完整示例](../example.xs)

## 本章示例
```
\Demo <- {
    System
}

Example -> {
    Main() -> () {
        a: I32! = nil

        b: [I32!]! = [I32!]!{0}
        b?[0]?.ToStr()?.ToStr()

        c := a?
        d := a!

        e := a ?! 1024
    }
}
```